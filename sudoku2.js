var grid = [['.', '.', '.', '1', '4', '.', '.', '2', '.'],
            ['.', '.', '6', '.', '.', '.', '.', '.', '.'],
            ['.', '.', '.', '.', '.', '.', '.', '.', '.'],
            ['.', '.', '1', '.', '.', '.', '.', '.', '.'],
            ['.', '6', '7', '.', '.', '.', '.', '.', '9'],
            ['.', '.', '.', '.', '.', '.', '8', '1', '.'],
            ['.', '3', '.', '.', '.', '.', '.', '.', '6'],
            ['.', '.', '.', '.', '.', '7', '.', '.', '.'],
            ['.', '.', '.', '5', '.', '.', '.', '7', '.']];

var grid2 = [['.', '.', '.', '.', '2', '.', '.', '9', '.'],
            ['.', '.', '.', '.', '6', '.', '.', '.', '.'],
            ['7', '1', '.', '.', '7', '5', '.', '.', '.'],
            ['.', '7', '.', '.', '.', '.', '.', '.', '.'],
            ['.', '.', '.', '.', '8', '3', '.', '.', '.'],
            ['.', '.', '8', '.', '.', '7', '.', '6', '.'],
            ['.', '.', '.', '.', '.', '2', '.', '.', '.'],
            ['.', '1', '.', '2', '.', '.', '.', '.', '.'],
            ['.', '2', '.', '.', '3', '.', '.', '.', '.']]


function sudoku2(grid) {
    for (var row = 0; row < 9; row++) {
        for (var col = 0; col < 9; col++) {
            var c = grid[row][col];
            if (c !== '.') {
                // check row
                for (var z = 0; z < 9; z++) {
                    if (col !== z && grid[row][z] === c)
                        return false;
                }
                // check column
                for (var z = 0; z < 9; z++) {
                    if (row !== z && grid[z][col] === c)
                        return false;
                }
                // check square
                var a = row - row%3,
                    b = col - col%3;
                for (var x = a; x < a+3; x++) {
                    for (var y = b; y < b+3; y++) {
                        if (x !== row && y !== col && grid[x][y] === c)
                            return false;
                    }
                }
            }
        }
    }
    return true;
}

console.log(sudoku2(grid));
console.log(sudoku2(grid2));